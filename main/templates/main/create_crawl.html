{% extends 'main/base.html' %}
{% load crispy_forms_tags %}
{% block title %}
Crawlers
{% endblock %}

{% block content %}
<h3>New Crawl</h3>
<br>
<form method="POST" action="." class="form-group">{% csrf_token %} <!-- esse token é para segurança em forms do tipo POST -->
    
    <div class="row rounded-top" style="background-color:black;color:grey;padding:20px;">
        <div class="col md-6">
            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    {{ form.source_name | as_crispy_field}}
                </div>
            </div>
        </div>
        <div class="col md-6">
            <div class="input-group mb-3">
                <div id="aa" class="input-group-prepend">
                    {{ form.base_url | as_crispy_field}}
                </div>
            </div>
        </div>
    </div>
    
    
    <!-- Configurações iniciais -->
    <!-- <div class="row rounded-top" style="background-color:black;color:grey;padding:20px;">
        <div class="col md-6">
            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    {{ form.source_name | as_crispy_field}}
                </div>
                <div class="input-group-prepend">
                    {{ form.source_name | as_crispy_field}}
                </div>
            </div>
        </div>
        <div class="col md-6">
            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    {{ form.source_name | as_crispy_field}}
                </div>
                <div class="input-group-prepend">
                    {{ form.source_name | as_crispy_field}}
                </div>
            </div>
        </div>
    </div> -->


<!-- Configuração de Antiblock -->
    <div class="row rounded-bottom" style="background-color:grey;color:white;padding:20px;">
        <div class="col md-4">
            <div class="">
                <label for="id_source_name" class=" requiredField">
                    Antiblock<span class="asteriskField">*</span>
                </label><br />
                <div class="">
                    <select class="custom-select" id="antiblockMenu" onchange=detailAntiblock()>
                        <option value="default" selected>None</option>
                        <option value="ip">IP rotation</option>
                        <option value="user_agent">User-agent rotation</option>
                        <option value="delay">Delay</option>
                        <option value="cookies">Cookies</option>
                    </select>
                    <!-- <div id="ir_rotation">
                        <select class="custom-select" id="ip_rotation_type">
                            <option value="tor" selected>Tor</option>
                            <option value="proxy">Proxy list</option>
                        </select>
                    </div> -->
                </div>
            </div>
        </div>
        <div class="col md-4">
            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    {{ form.captcha | as_crispy_field}}
                </div>
            </div>
        </div>
    </div>

    <!-- Configurações de Captcha -->
    <!-- <div class="row rounded-bottom" style="background-color:black;color:grey;padding:20px;">
        <div class="col md-4">
            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    {{ form.source_name | as_crispy_field}}
                </div>
            </div>
        </div>
    </div> -->
    
    <div class="row" style="background-color:white;color:white;padding:20px;">
        <button type="submit" name="save" class="btn btn-success" style="display: block; margin: 0 auto;" onclick="showIframe">Crawl</button>
    </div>
    
        <!-- end steps -->
        
        
</form>
    
    {% endblock %}